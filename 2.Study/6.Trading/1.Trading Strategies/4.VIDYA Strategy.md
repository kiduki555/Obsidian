# Volumatic VIDYA 전략

## 1. 기본 개념

### 1.1 VIDYA란?
VIDYA(Variable Index Dynamic Average)는 일반적인 이동평균선의 한계를 극복하기 위해 개발된 동적 이동평균선입니다. 기존 이동평균선이 시장 상황과 관계없이 고정된 가중치를 사용하는 것과 달리, VIDYA는 시장의 변동성에 따라 가중치를 동적으로 조절합니다.

### 1.2 전략의 핵심 아이디어
- 변동성이 높을 때는 최근 가격에 더 높은 가중치 부여
- 변동성이 낮을 때는 가중치를 분산하여 안정적인 신호 생성
- 거래량 정보를 결합하여 가격 움직임의 신뢰도 평가
- 유동성 구역을 통한 주요 가격 레벨 식별

## 2. 주요 구성 요소

### 2.1 VIDYA 계산 상세
#### 2.1.1 모멘텀 계산
```python
momentum = price.change()  // 가격 변화량
sum_pos_momentum = sum(if momentum >= 0 then momentum else 0, period)
sum_neg_momentum = sum(if momentum < 0 then -momentum else 0, period)
```

#### 2.1.2 CMO(Chande Momentum Oscillator) 계산
```python
CMO = 100 * (sum_pos_momentum - sum_neg_momentum) / (sum_pos_momentum + sum_neg_momentum)
```

#### 2.1.3 최종 VIDYA 값 계산
```python
alpha = 2 / (length + 1)
VIDYA = alpha * |CMO|/100 * price + (1 - alpha * |CMO|/100) * VIDYA[1]
```

### 2.2 밴드 시스템 상세
#### 2.2.1 ATR 기반 밴드
- ATR 계산: 200기간 기준으로 진실된 범위의 평균 계산
- 상단 밴드 = VIDYA + (ATR * 거리계수)
- 하단 밴드 = VIDYA - (ATR * 거리계수)
- 거리계수 기본값: 2.0 (시장 상황에 따라 조정 가능)

#### 2.2.2 밴드의 역할
- 트렌드 방향 결정: 가격이 밴드를 돌파하는 방향으로 트렌드 설정
- 변동성 기반 스톱로스: 밴드 폭을 활용한 동적 손절점 설정
- 추세 강도 측정: 밴드 폭의 확장/수축으로 모멘텀 판단

### 2.3 유동성 구역(Liquidity Zones) 상세
#### 2.3.1 피봇 포인트 식별
- 좌우 3봉 기준의 피봇 고점/저점 탐색
- 트렌드 방향과 일치하는 피봇만 선택적 사용
- 거래량 가중치를 통한 중요도 평가

#### 2.3.2 유동성 라인 관리
- 최대 500개의 라인 유지
- 가격 상호작용 시 자동 연장 및 제거
- 거래량 프로파일 라벨 추가로 시각적 분석 지원

## 3. 매매 신호 상세

### 3.1 진입 신호
#### 3.1.1 상승 트렌드 진입
1. 가격이 상단 밴드 돌파
2. 이전 유동성 저점이 지지력 확인
3. 상승 거래량 우위 확인

#### 3.1.2 하락 트렌드 진입
1. 가격이 하단 밴드 돌파
2. 이전 유동성 고점이 저항력 확인
3. 하락 거래량 우위 확인

### 3.2 볼륨 델타 분석 상세
#### 3.2.1 거래량 누적 방식
- 상승 캔들: 종가 > 시가일 때 거래량 누적
- 하락 캔들: 종가 < 시가일 때 거래량 누적
- 트렌드 전환 시 누적값 리셋

#### 3.2.2 델타 계산 및 해석
```python
볼륨 델타 = (상승거래량 - 하락거래량) / 평균거래량 * 100
```
- 양수: 매수 세력 우위
- 음수: 매도 세력 우위
- 절대값이 클수록 해당 방향의 힘이 강함

## 4. 리스크 관리 상세

### 4.1 손절점 설정
1. 기본 손절: 반대편 밴드까지의 거리
2. 타이트 손절: 가장 가까운 유동성 구역 하단
3. 와이드 손절: ATR의 2배 거리

### 4.2 익절 전략
1. 부분 익절: 다음 유동성 구역 도달 시 30% 축소
2. 트레일링 스탑: VIDYA 선 기준으로 추적
3. 최종 청산: 반대 방향 신호 발생 시

### 4.3 포지션 사이징
- 기본 사이즈: 계좌의 2% 리스크
- 조정 계수: 볼륨 델타 강도에 따라 ±50% 조정
- 최대 노출: 계좌의 10%를 초과하지 않도록 설정

## 5. 최적화 가이드

### 5.1 파라미터 최적화
#### 5.1.1 VIDYA 파라미터
- Length (기본값: 10)
  - 범위: 5-20
  - 빠른 시장: 작은 값
  - 느린 시장: 큰 값

#### 5.1.2 모멘텀 파라미터
- Period (기본값: 20)
  - 범위: 10-30
  - 변동성 높을 때: 작은 값
  - 변동성 낮을 때: 큰 값

#### 5.1.3 밴드 파라미터
- 거리계수 (기본값: 2.0)
  - 범위: 1.5-3.0
  - 좁은 밴드: 빈번한 신호
  - 넓은 밴드: 신뢰도 높은 신호

### 5.2 시장 상황별 조정
#### 5.2.1 강한 트렌드 시장
- 밴드 거리 증가
- 모멘텀 기간 감소
- 부분 익절 비중 감소

#### 5.2.2 횡보 시장
- 밴드 거리 감소
- 모멘텀 기간 증가
- 부분 익절 비중 증가

## 6. 장단점 상세 분석

### 6.1 장점
1. 적응형 시스템
   - 시장 상황에 따른 자동 조정
   - 변동성 기반의 동적 대응
   - 거래량 통합으로 신뢰도 향상

2. 리스크 관리
   - 명확한 진입/청산 규칙
   - 동적 손절점 설정
   - 단계적 익절 전략

3. 다중 확인 시스템
   - 가격, 거래량, 모멘텀 통합
   - 유동성 구역을 통한 검증
   - 트렌드 강도 측정

### 6.2 단점
1. 복잡성
   - 다수의 파라미터 관리 필요
   - 최적화 과정이 복잡
   - 실시간 계산 부하 높음

2. 지연 가능성
   - 트렌드 전환 시점 지연
   - 급격한 변동 시 대응 늦음
   - 거래비용 증가 가능성

3. 운영 리스크
   - 과적합 위험
   - 파라미터 의존성
   - 시스템 복잡도로 인한 오류 가능성

## 7. 실전 적용 팁

### 7.1 시작하기
1. 페이퍼 트레이딩으로 시스템 익히기
2. 소규모 자금으로 실전 테스트
3. 점진적으로 포지션 크기 증가

### 7.2 모니터링
1. 일일 성과 리뷰
2. 주간 파라미터 최적화
3. 월간 전략 평가 및 조정

### 7.3 지속적 개선
1. 거래 일지 작성
2. 실패 케이스 분석
3. 정기적인 백테스팅
```
